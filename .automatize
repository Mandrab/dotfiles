#!/bin/bash

############################################################
############################################################
# NOTE:
# for latex install also "texlive-collection-fontsrecommended.noarch"
############################################################
############################################################

sudo -i

############################################################
# upgrade system
############################################################

dnf install https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm
dnf update -y

############################################################
# install nvidia driver
############################################################

#/sbin/lspci | grep -e VGA
dnf install akmod-nvidia
dnf install xorg-x11-drv-nvidia-cuda
modinfo -F version nvidia

############################################################
# install vivaldi & remove firefox
############################################################

dnf config-manager --add-repo https://repo.vivaldi.com/archive/vivaldi-fedora.repo
dnf install vivaldi-stable
dnf remove firefox
rm -rf /usr/lib64/firefox/
rm -rf $HOME/.mozilla/

############################################################
# install intellij-idea
############################################################

cd $HOME/Downloads/
wget https://download.jetbrains.com/idea/ideaIU-2020.1.tar.gz
tar -xzf ideaIU-*.tar.gz
mv idea-*/ /usr/bin/intellij-idea

############################################################
# install eclipse
############################################################

wget http://www.mirrorservice.org/sites/download.eclipse.org/eclipseMirror/technology/epp/downloads/release/2020-03/R/eclipse-java-2020-03-R-linux-gtk-x86_64.tar.gz
touch $HOME/.local/share/applications/eclipse.desktop
echo "" >> $HOME/.local/share/applications/eclipse.desktop
echo "TODO"

############################################################
# remove some gnomes
############################################################

dnf remove gnome-contacts
dnf remove gnome-maps
dnf remove gnome-maps
dnf remove gnome-terminal

############################################################
# install teams
############################################################

sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc
sudo sh -c 'echo -e "[teams]\nname=teams\nbaseurl=https://packages.microsoft.com/yumrepos/ms-teams\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc" > /etc/yum.repos.d/teams.repo'
sudo dnf check-update
sudo dnf install teams
